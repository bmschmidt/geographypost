<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">

<title>Geography of the Post</title>

<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:400,300' rel='stylesheet' type='text/css'>

<link href="css/style.css" rel="stylesheet" type="text/css">
<link href="css/bootstrap.css" rel="stylesheet" type="text/css">

<script src="lib/d3.v3.min.js" charset="utf-8"></script>
<script src="lib/queue.v1.min.js" charset="utf-8"></script>
<script src="lib/topojson.v1.min.js" charset="utf-8"></script>
<script src="http://d3js.org/d3.geo.projection.v0.min.js"></script>


</head>

<body>
<div id="info">
    <h1>Geography of the Post</h1>
    <h3>U.S. Post Offices in the Nineteenth-Century West</h3>
    <div id="about">
        <ul>
            <li>Cameron Blevins</li>
            <li>Jason Heppler</li>
            <li><span class="sc">Stanford University</span></li>
        </ul>
    </div>
</div>

<div id="tab1" onclick="javascript:showSnapshot()">
  <p class="btn btn-info">Duration View</p>
</div>
<div id="tab2" onclick="javascript:showRegular()">
  <p class="btn btn-info">Status View</p>
</div>


<div id="datamode">
  <form display: "inline">
    <input type="radio"
            id="snapshot"
            class="datamode"
            name="data"
            value="snapshot"
            onclick="showSnapshot()"
            checked="checked"/>Duration View
    <input type="radio"
            id="regular"
            class="datamode"
            name="data"
            value="regular"
            onclick="showRegular()"/>Status View
 </form>
</div>

<script type="text/javascript" src="post.js"></script>

<div id="resetMap">
    <button
    name="returnBrush"
    value="Remove Brush"
    class="btn btn-default"
    onclick="resetBrush()"/>Reset Map
</div>

<div id="information">

<div id="selections">
  <h3 class="yearText">Filter by: </h3>
  <form display= "box">
    <input type="checkbox"
            id="estab"
            class="legendText"
            name="maps"
            value="Established"
            onClick="filterPoints()"/>Established<br>
    <input type="checkbox"
            id="discont"
            class="legendText"
            name="maps"
            value="Discontinued"
            onclick="filterPoints()"/>Discontinued
 </form>

<button type="button" id="zoom_in" class="btn btn-info" onclick="manualZoom('in');">Zoom in</button>
<button type="button" id="zoom_out" class="btn btn-info" onclick="manualZoom('out');">Zoom out</button>

<div id="tooltipView"></div>
</div>
</div>

<div class="aboutText">
<h3 id="#aboutMap">About the Map</h3>
<p>The U.S. postal system was the nation's largest communications network in the nineteenth century. This visualization maps the spread of that network in the American West by charting the opening and closing of individual post offices over time. Users can click-and-drag the bar chart to see the extent of the network for any span of years. "Normal View" offers a snapshot of offices that were in existence at any point during a particular period. "Detailed View" gives more information about individual offices - whether they were opened, closed, and whether or not they were in existence for the entirety of the selected period.</p>

 <p>Three disclaimers are in order. First, the map is missing a significant amount of data. We attempted to find the locations of post offices by looking them up in the <a href="http://geonames.usgs.gov/">Geographic Names Information System (GNIS)</a>, but we were not successful for many post offices. In order to capture this missing data, the sidebar displays how many post offices are mapped and how many are missing from the map for the selected time period. Second, we have not captured when an office changed names. A name change shows up as if it were a brand-new post office, with the old office "closing" and the new office "opening," even if they were one and the same post office in continuous operation. Finally, the close date of an office represents a final date at which an office ceased to exist. Multiple openings and closings of the same office are not represented.</p>

 <h3>How to Use</h3>
 <p>The stacked bar chart along the bottom is a timeline of post office openings (dark blue) and closings (light blue), year by year. Users can brush the chart to set spans of time and view how post offices changed over time. As you create a brush, you will notice that the points on the map update to reflect information about the given span of time. The "Duration View" shows the age of a post office. The more opaque a point is, the older a post office is for a given span of time. The "Status View" shows what happened to a post office within a span of time. You can clear out your selections by clicking "Reset Map."</p>

 <h3>About the Data</h3>
 <p>The map uses data compiled by postal historian and philatelist Richard Helbock in <i>United States Post Offices, Volumes 1-8</i>. We extend our gratitude to Richard Helbock for his incredible work to compile this data.</p>

 <p>This visualization was built using <a href="d3js.org">D3.js</a> by <a href="http://jasonheppler.org/">Jason Heppler</a>, Jocelyn Hickox, and <a href="http://cameronblevins.org/">Cameron Blevins</a> as part of the <a href="http://www.stanford.edu/group/spatialhistory/cgi-bin/site/project.php?id=1059">Geography of the Post</a> project at Stanford's <a href="http://cesta.stanford.edu/">Center for Spatial and Textual Analysis</a>. Special thanks to Tara Balakrishnan for her initial work and to Elijah Meeks for additional technical help.</p>
 </div>

<footer>
  <span style="float:right;">
    <a href="https://github.com/stanford-history/geographypost">Code</a> released under the <a href="http://heppler.mit-license.org/">MIT License</a>.
  </span>

  Built by <a href="http://www.jasonheppler.org">Jason Heppler</a>, Jocelyn Hickcox, Tara Balakrishnan, and <a href="http://cameronblevins.org">Cameron Blevins</a>. Special thanks to Elijah Meeks.

</footer>
</body>
